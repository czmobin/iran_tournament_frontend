<template>
  <div class="min-h-screen bg-cover bg-center bg-no-repeat bg-fixed mobile-bg md:desktop-bg flex items-center justify-center p-4">
    <div class="max-w-md w-full">
      <div class="text-center mb-8">
        <h1 class="text-4xl font-black text-white mb-2">
          ๐ ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ
        </h1>
        <p class="text-white/80">ููฺฉ ุจุงุฒุงุจ ุจู ุงูู ุดูุง ุงุฑุณุงู ูโุดูุฏ</p>
      </div>

      <div class="bg-white rounded-3xl shadow-2xl p-8">
        <div v-if="!submitted">
          <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
            ูุฑุงููุด ุฑูุฒ ุนุจูุฑ
          </h2>

          <form @submit.prevent="handleSubmit" class="space-y-5">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                ุงูู
              </label>
              <input
                v-model="email"
                type="email"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition"
                placeholder="example@email.com"
              >
            </div>

            <button
              type="submit"
              :disabled="loading"
              class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold py-4 rounded-xl hover:from-purple-700 hover:to-indigo-700 transition disabled:opacity-50"
            >
              <span v-if="loading">ุฏุฑ ุญุงู ุงุฑุณุงู...</span>
              <span v-else>ุงุฑุณุงู ููฺฉ ุจุงุฒุงุจ</span>
            </button>
          </form>
        </div>

        <div v-else class="text-center">
          <div class="text-green-600 text-6xl mb-4">โ</div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">ุงุฑุณุงู ุดุฏ!</h3>
          <p class="text-gray-600 mb-6">
            ููฺฉ ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ ุจู ุงูู ุดูุง ุงุฑุณุงู ุดุฏ.
          </p>
          <NuxtLink 
            to="/login"
            class="inline-block bg-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-purple-700 transition"
          >
            ุจุงุฒฺฏุดุช ุจู ูุฑูุฏ
          </NuxtLink>
        </div>

        <div class="mt-6 text-center">
          <NuxtLink to="/login" class="text-purple-600 hover:text-purple-700 font-medium">
            โ ุจุงุฒฺฏุดุช ุจู ูุฑูุฏ
          </NuxtLink>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
definePageMeta({
  layout: false,
  middleware: 'guest'
})

const email = ref('')
const loading = ref(false)
const submitted = ref(false)

const handleSubmit = async () => {
  loading.value = true
  
  // Simulate API call
  await new Promise(resolve => setTimeout(resolve, 1000))
  
  submitted.value = true
  loading.value = false
}

useHead({
  title: 'ูุฑุงููุด ุฑูุฒ ุนุจูุฑ - ุงุฑุงู ุชูุฑููููุช'
})
</script>

<style scoped>
.mobile-bg {
  background-image: url('/mobile_index.png');
}

@media (min-width: 768px) {
  .desktop-bg {
    background-image: url('/desktop_index.png');
  }
}
</style>